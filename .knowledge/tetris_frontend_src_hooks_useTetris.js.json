{"is_source_file": true, "format": "JavaScript", "description": "This is a React custom hook 'useTetris' that encapsulates the full logic for a Tetris game, including game state management, piece movement, collisions, line clearing, scoring, level progression, and rendering logic.", "external_files": ["../utils/tetrominoes"], "external_methods": ["create7BagGenerator", "rotateMatrixClockwise", "TETROMINOES"], "published": ["useTetris"], "classes": [], "methods": [{"name": "useTetris()", "description": "Hook encapsulating the full Tetris game logic, returning game state and control functions.", "scope": "", "scopeKind": ""}, {"name": "createEmptyBoard()", "description": "Creates a new empty Tetris game board.", "scope": "useTetris", "scopeKind": "function"}, {"name": "refillQueue", "description": "Refills the tetromino queue to ensure it has a minimum length."}, {"name": "spawnPiece", "description": "Spawns a new tetromino piece at the top of the board."}, {"name": "getTopPadding(shape)", "description": "Calculates hidden rows at top of shape for spawning.", "scope": "useTetris", "scopeKind": "function"}, {"name": "resetGame", "description": "Resets the game state to start a new game."}, {"name": "start", "description": "Starts the game, initializing the state if not already running."}, {"name": "pause", "description": "Pauses or unpauses the game."}, {"name": "hardDrop", "description": "Drops the current piece to the lowest possible position instantly."}, {"name": "move", "description": "Moves the current piece horizontally."}, {"name": "softDrop", "description": "Moves the current piece down by one row, incrementing score."}, {"name": "rotate", "description": "Rotates the current tetromino clockwise with wall kicks."}, {"name": "holdPiece", "description": "Holds the current piece or swaps with held piece."}, {"name": "collides(boardState, shape, x, y)", "description": "Checks for collision of a shape at a given position.", "scope": "useTetris", "scopeKind": "function"}, {"name": "mergePiece(boardState, piece, finalY)", "description": "Merges the current piece into the board at its final position.", "scope": "useTetris", "scopeKind": "function"}, {"name": "clearLines(boardState)", "description": "Clears completed lines from the board and returns the new board and count of lines cleared.", "scope": "useTetris", "scopeKind": "function"}, {"name": "lockPiece", "description": "Locks the current piece in place, clears lines, updates score, and spawns a new piece."}], "calls": ["create7BagGenerator()", "rotateMatrixClockwise()", "TETROMINOES[key]", "collides()", "mergePiece()", "clearLines()"], "search-terms": ["useTetris", "tetrominoes", "game loop", "React hook", "Tetris logic", "game state", "collision detection", "line clearing", "score tracking", "piece rotation", "hold swap"], "state": 2, "file_id": 14, "knowledge_revision": 29, "git_revision": "", "ctags": [{"_type": "tag", "name": "0", "path": "/home/kavia/workspace/code-generation/react-tetris-classic-177451-177460/tetris_frontend/src/hooks/useTetris.js", "pattern": "/^  0: 0,$/", "language": "JavaScript", "kind": "property", "scope": "SCORE_TABLE", "scopeKind": "class"}, {"_type": "tag", "name": "1", "path": "/home/kavia/workspace/code-generation/react-tetris-classic-177451-177460/tetris_frontend/src/hooks/useTetris.js", "pattern": "/^  1: 100,$/", "language": "JavaScript", "kind": "property", "scope": "SCORE_TABLE", "scopeKind": "class"}, {"_type": "tag", "name": "2", "path": "/home/kavia/workspace/code-generation/react-tetris-classic-177451-177460/tetris_frontend/src/hooks/useTetris.js", "pattern": "/^  2: 300,$/", "language": "JavaScript", "kind": "property", "scope": "SCORE_TABLE", "scopeKind": "class"}, {"_type": "tag", "name": "3", "path": "/home/kavia/workspace/code-generation/react-tetris-classic-177451-177460/tetris_frontend/src/hooks/useTetris.js", "pattern": "/^  3: 500,$/", "language": "JavaScript", "kind": "property", "scope": "SCORE_TABLE", "scopeKind": "class"}, {"_type": "tag", "name": "4", "path": "/home/kavia/workspace/code-generation/react-tetris-classic-177451-177460/tetris_frontend/src/hooks/useTetris.js", "pattern": "/^  4: 800$/", "language": "JavaScript", "kind": "property", "scope": "SCORE_TABLE", "scopeKind": "class"}, {"_type": "tag", "name": "BOARD_HEIGHT", "path": "/home/kavia/workspace/code-generation/react-tetris-classic-177451-177460/tetris_frontend/src/hooks/useTetris.js", "pattern": "/^const BOARD_HEIGHT = 20;$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "BOARD_WIDTH", "path": "/home/kavia/workspace/code-generation/react-tetris-classic-177451-177460/tetris_frontend/src/hooks/useTetris.js", "pattern": "/^const BOARD_WIDTH = 10;$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "LEVEL_SPEEDS", "path": "/home/kavia/workspace/code-generation/react-tetris-classic-177451-177460/tetris_frontend/src/hooks/useTetris.js", "pattern": "/^const LEVEL_SPEEDS = [$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "SCORE_TABLE", "path": "/home/kavia/workspace/code-generation/react-tetris-classic-177451-177460/tetris_frontend/src/hooks/useTetris.js", "pattern": "/^const SCORE_TABLE = {$/", "language": "JavaScript", "kind": "class"}, {"_type": "tag", "name": "clearLines", "path": "/home/kavia/workspace/code-generation/react-tetris-classic-177451-177460/tetris_frontend/src/hooks/useTetris.js", "pattern": "/^  function clearLines(boardState) {$/", "language": "JavaScript", "kind": "function", "signature": "(boardState)", "scope": "useTetris", "scopeKind": "function"}, {"_type": "tag", "name": "collides", "path": "/home/kavia/workspace/code-generation/react-tetris-classic-177451-177460/tetris_frontend/src/hooks/useTetris.js", "pattern": "/^  function collides(boardState, shape, x, y) {$/", "language": "JavaScript", "kind": "function", "signature": "(boardState, shape, x, y)", "scope": "useTetris", "scopeKind": "function"}, {"_type": "tag", "name": "createEmptyBoard", "path": "/home/kavia/workspace/code-generation/react-tetris-classic-177451-177460/tetris_frontend/src/hooks/useTetris.js", "pattern": "/^  function createEmptyBoard() {$/", "language": "JavaScript", "kind": "function", "signature": "()", "scope": "useTetris", "scopeKind": "function"}, {"_type": "tag", "name": "getTopPadding", "path": "/home/kavia/workspace/code-generation/react-tetris-classic-177451-177460/tetris_frontend/src/hooks/useTetris.js", "pattern": "/^  function getTopPadding(shape) {$/", "language": "JavaScript", "kind": "function", "signature": "(shape)", "scope": "useTetris", "scopeKind": "function"}, {"_type": "tag", "name": "mergePiece", "path": "/home/kavia/workspace/code-generation/react-tetris-classic-177451-177460/tetris_frontend/src/hooks/useTetris.js", "pattern": "/^  function mergePiece(boardState, piece, finalY) {$/", "language": "JavaScript", "kind": "function", "signature": "(boardState, piece, finalY)", "scope": "useTetris", "scopeKind": "function"}, {"_type": "tag", "name": "useTetris", "path": "/home/kavia/workspace/code-generation/react-tetris-classic-177451-177460/tetris_frontend/src/hooks/useTetris.js", "pattern": "/^export function useTetris() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}], "hash": "b62f9245d1e81d8cd044b573d13ef41b", "format-version": 4, "code-base-name": "tetris_frontend", "filename": "tetris_frontend/src/hooks/useTetris.js", "fields": [{"name": "0: 0,", "scope": "SCORE_TABLE", "scopeKind": "class", "description": "unavailable"}, {"name": "1: 100,", "scope": "SCORE_TABLE", "scopeKind": "class", "description": "unavailable"}, {"name": "2: 300,", "scope": "SCORE_TABLE", "scopeKind": "class", "description": "unavailable"}, {"name": "3: 500,", "scope": "SCORE_TABLE", "scopeKind": "class", "description": "unavailable"}, {"name": "4: 800", "scope": "SCORE_TABLE", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"29": ""}]}